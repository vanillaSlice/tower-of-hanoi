!function(e){function t(t){for(var n,o,l=t[0],a=t[1],u=t[2],h=0,d=[];h<l.length;h++)o=l[h],i[o]&&d.push(i[o][0]),i[o]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);for(c&&c(t);d.length;)d.shift()();return r.push.apply(r,u||[]),s()}function s(){for(var e,t=0;t<r.length;t++){for(var s=r[t],n=!0,l=1;l<s.length;l++){var a=s[l];0!==i[a]&&(n=!1)}n&&(r.splice(t--,1),e=o(o.s=s[0]))}return e}var n={},i={0:0},r=[];function o(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=n,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(s,n,function(t){return e[t]}.bind(null,n));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var l=window.webpackJsonp=window.webpackJsonp||[],a=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var c=a;r.push([1,1]),s()}([function(e){e.exports=JSON.parse('{"a":"1.1.0"}')},function(e,t,s){e.exports=s(2)},function(e,t,s){"use strict";s.r(t);var n=s(0);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var s=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(s.push(o.value),!t||s.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw r}}return s}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function r(e){return function(e){if(Array.isArray(e)){for(var t=0,s=new Array(e.length);t<e.length;t++)s[t]=e[t];return s}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}s(3);var l=[[0,2],[0,1],[1,2]],a=[[0,1],[0,2],[1,2]];(new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bindFunctions(),this.initState(),this.initElements()}return function(e,t,s){t&&o(e.prototype,t)}(e,[{key:"bindFunctions",value:function(){this.handleRestartBtnClick=this.handleRestartBtnClick.bind(this),this.handleSolveBtnClick=this.handleSolveBtnClick.bind(this),this.solve=this.solve.bind(this)}},{key:"initState",value:function(){this.state={disks:4,currentMoves:0,towers:[this.range(4),[],[]],isBeingSolved:!1,solveTimeoutId:null,selectedDisk:null,selectedTower:null,minMoves:this.calculateMinMoves(4)}}},{key:"range",value:function(e){return r(Array(e).keys())}},{key:"calculateMinMoves",value:function(e){return Math.pow(2,e)-1}},{key:"initElements",value:function(){this.getElements(),this.resetElements(),this.addEventListeners(),this.setVersion()}},{key:"getElements",value:function(){this.gameContainer=document.querySelector(".js-game-container"),this.disksLabel=document.querySelector(".js-disks-label"),this.increaseDisksBtn=document.querySelector(".js-increase-disks-btn"),this.decreaseDisksBtn=document.querySelector(".js-decrease-disks-btn"),this.currentMovesLabel=document.querySelector(".js-current-moves-label"),this.restartBtn=document.querySelector(".js-restart-btn"),this.solveBtn=document.querySelector(".js-solve-btn"),this.winMessageElement=document.querySelector(".js-win-message"),this.diskElements=r(document.querySelectorAll(".js-disk")),this.towerElements=r(document.querySelectorAll(".js-tower")),this.minMovesLabel=document.querySelector(".js-min-moves-label"),this.versionElement=document.querySelector(".js-version")}},{key:"resetElements",value:function(){var e=this;this.disksLabel.textContent=this.state.disks,this.currentMovesLabel.textContent=this.state.currentMoves,this.winMessageElement.classList.add("hidden"),this.diskElements.forEach(function(t,s){t.classList.remove("selected"),t.classList.toggle("hidden",s>=e.state.disks),e.towerElements[0].appendChild(t)}),this.minMovesLabel.textContent=this.state.minMoves}},{key:"addEventListeners",value:function(){var e=this;this.increaseDisksBtn.addEventListener("click",function(){return e.handleUpdateDisksBtnClick(e.state.disks+1)}),this.decreaseDisksBtn.addEventListener("click",function(){return e.handleUpdateDisksBtnClick(e.state.disks-1)}),this.restartBtn.addEventListener("click",this.handleRestartBtnClick),this.solveBtn.addEventListener("click",this.handleSolveBtnClick),this.towerElements.forEach(function(t,s){return t.addEventListener("click",function(){return e.handleTowerElementClick(s)})})}},{key:"handleUpdateDisksBtnClick",value:function(e){e<1||10<e||(this.state.disks=e,this.resetState(),this.resetElements())}},{key:"resetState",value:function(){this.state.currentMoves=0,this.state.towers=[this.range(this.state.disks),[],[]],this.state.isBeingSolved=!1,clearTimeout(this.state.solveTimeoutId),this.state.solveTimeoutId=null,this.state.selectedDisk=null,this.state.selectedTower=null,this.state.minMoves=this.calculateMinMoves(this.state.disks)}},{key:"handleRestartBtnClick",value:function(){this.resetState(),this.resetElements()}},{key:"handleSolveBtnClick",value:function(){this.resetState(),this.resetElements();var e=this.state.disks%2==0?a:l;this.state.isBeingSolved=!0,this.state.solveTimeoutId=setTimeout(this.solve,200,e)}},{key:"solve",value:function(e,t){var s=1<arguments.length&&void 0!==t?t:0,n=i(e[s],2),r=n[0],o=n[1],l=this.state.towers[r][0],a=this.state.towers[o][0];if(void 0===a||l<a){var u=this.diskElements[l];this.state.towers[r].shift(),this.state.towers[o].unshift(l),this.towerElements[o].prepend(u)}else{var c=this.diskElements[a];this.state.towers[o].shift(),this.state.towers[r].unshift(a),this.towerElements[r].prepend(c)}if(this.state.currentMoves+=1,this.currentMovesLabel.textContent=this.state.currentMoves,this.isSolved())this.state.isBeingSolved=!1;else{var h=(s+1)%e.length;this.state.solveTimeoutId=setTimeout(this.solve,200,e,h)}}},{key:"isSolved",value:function(){for(var e=this.state.towers[2],t=0;t<this.state.disks;t+=1)if(e[t]!==t)return!1;return!0}},{key:"handleTowerElementClick",value:function(e){if(!this.state.isBeingSolved)if(null!==this.state.selectedDisk){if(this.state.towers[e][0]<this.state.selectedDisk)return;if(this.state.selectedTower!==e){var t=this.diskElements[this.state.selectedDisk];this.towerElements[e].prepend(t),this.state.towers[this.state.selectedTower].shift(),this.state.towers[e].unshift(this.state.selectedDisk),this.state.currentMoves+=1,this.currentMovesLabel.textContent=this.state.currentMoves}this.diskElements[this.state.selectedDisk].classList.remove("selected"),this.winMessageElement.classList.toggle("hidden",!this.isSolved()),this.state.selectedDisk=null,this.state.selectedTower=null}else if(void 0!==this.state.towers[e][0]){this.state.selectedTower=e;var s=i(this.state.towers[e],1);this.state.selectedDisk=s[0],this.diskElements[this.state.selectedDisk].classList.add("selected")}}},{key:"setVersion",value:function(){this.versionElement.textContent="v".concat(n.a)}},{key:"show",value:function(){this.gameContainer.classList.remove("hidden")}}]),e}())).show()}]);
//# sourceMappingURL=bundle.js.map